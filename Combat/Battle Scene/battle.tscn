[gd_scene load_steps=8 format=3 uid="uid://cp2prdao74j3h"]

[ext_resource type="Script" uid="uid://d4jalbtjm0yrc" path="res://Combat/Manager/CombatManager.gd" id="1_16hna"]
[ext_resource type="PackedScene" uid="uid://b6ic7wsg00p1j" path="res://Enemy/enemy.tscn" id="2_16hna"]
[ext_resource type="PackedScene" uid="uid://c6a7ifv5dqitu" path="res://Buttons/DodgeButton.tscn" id="2_fd3ov"]
[ext_resource type="PackedScene" uid="uid://b06tbbb80heof" path="res://Player/player.tscn" id="6_dau4u"]
[ext_resource type="PackedScene" uid="uid://cg2ay31ud2g6o" path="res://Combat/Scenes/CombatUI.tscn" id="6_v35c4"]

[sub_resource type="ViewportTexture" id="ViewportTexture_fd3ov"]
viewport_path = NodePath("Camera3D/SubViewport")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7sfm4"]
bg_color = Color(0.972549, 0, 0.019607844, 1)

[node name="Battle" type="Node3D"]
script = ExtResource("1_16hna")

[node name="Camera3D" type="Camera3D" parent="." groups=["camera"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.18644607, -0.07951462, 3.0908632)
current = true

[node name="Enemy" parent="." instance=ExtResource("2_16hna")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.9078076, 0, -3.0171533)

[node name="Sprite3D" type="Sprite3D" parent="."]
texture = SubResource("ViewportTexture_fd3ov")
region_enabled = true
region_rect = Rect2(-6.944275, -0.7622757, 779.48694, 517.29584)

[node name="Player" parent="." instance=ExtResource("6_dau4u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.328918, 0, -2.904407)

[node name="DodgeButton" parent="." instance=ExtResource("2_fd3ov")]
unique_name_in_owner = true
position = Vector2(578, 577)

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchors_preset = 10
anchor_right = 1.0
offset_left = 132.3
offset_right = -994.6981
offset_bottom = 4.0
grow_horizontal = 2

[node name="EnemyHealth" type="ProgressBar" parent="VBoxContainer"]
layout_mode = 2
theme_override_styles/background = SubResource("StyleBoxFlat_7sfm4")
show_percentage = false

[node name="Label" type="Label" parent="VBoxContainer/EnemyHealth"]
layout_mode = 0
offset_left = 63.0
offset_top = 5.0
offset_right = 194.0
offset_bottom = 28.0
text = "25/50"

[node name="CombatUi" parent="." instance=ExtResource("6_v35c4")]
unique_name_in_owner = true
